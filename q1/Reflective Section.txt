### 1. **Argument and Option Handling Breakdown**
   - **Manual `--help` check**: Before any other processing, the script scans through all arguments to check if the `--help` option is present, providing early assistance for the user if requested.
   - **`getopts` parsing**: The script then uses `getopts` to handle short options such as `-n`, `-v`, `-h`, allowing for simple and clear error handling for invalid options and managing duplicates.
   - **Shifting and Assigning Arguments**: Once options are processed, the script shifts the arguments (removes the parsed ones) to access remaining positional arguments. The first argument that isn't a valid option or flag is assigned as the search query, and the first valid file is assigned as the file to search in.
   - **Critical validations**: Finally, the script ensures that all required inputs are valid:
     - The query must not be missing.
     - The specified file must exist and be accessible with the necessary permissions.

### 2. **Supporting Additional Features**
   - **Expanding Option Parsing**: To add more features like case-insensitive search (`-i`), match count (`-c`), or filename-only output (`-l`), the `getopts` string would be expanded to include these new options. Each option would require associated logic in the script to handle the behavior it represents.
   - **Regex Support**: For regular expression matching, the script would use Bash's `=~` operator instead of simple wildcard matching. This allows for more advanced and flexible pattern matching.
   - **Filename-Only Output**:
     - If the `-l` flag is set, the script should store filenames in an array and iterate over them, checking each for matches. Once a match is found in a file, the script should display the filename and stop further unnecessary processing for that file to save time and resources.
   - **Case-Insensitive Search**:
     - When the `-i` flag is enabled, the script should stop converting variables to lowercase and instead rely on the system's case-insensitive matching.

### 3. **Hardest Part to Implement**
   - **Positional Argument Parsing**: The most difficult aspect was accurately determining which argument was the query and which was the file. Since there may be multiple arguments, correctly distinguishing between them required careful validation and logic to handle various edge cases, such as missing queries or ambiguous arguments.
   - **File Validation**: Ensuring that the file exists and is readable (with proper permissions) was essential for preventing errors when searching through files.